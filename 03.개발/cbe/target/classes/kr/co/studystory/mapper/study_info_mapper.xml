<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.studystory.studyinfo">



	<!-- 스터디 상세 정보 조회. - 진행중. -->
	<resultMap type="kr.co.studystory.domain.StudyInfoDomain" id="StudyInfoDomain">

		<!-- private String studyName, loc, category, content, studyImg, leaderImg, 
			inputDate, nick, introduce; private int favNum, memberNum; // 좋아요 갯수, 스터디 
			참여자 수. -->

		<result column="STUDY_NAME" property="studyName" />
		<result column="LOC" property="loc" />
		<result column="CATEGORY" property="category" />
		<result column="CONTENT" property="content" />
		<result column="IMG" property="studyImg" />
		<result column="INPUT_DATE" property="inputDate" />
		<result column="NICK" property="nick" />
		<result column="INTRODUCE" property="introduce" />

	</resultMap>

	<select id="selectDetailStudy" parameterType="String" resultMap="StudyInfoDomain">
		SELECT STD.STUDY_NAME, STD.LOC, STD.CATEGORY, STD.CONTENT, STD.IMG , TO_CHAR(STD.INPUT_DATE,'YYYY/MM/DD') INPUT_DATE, UT.NICK, UT.INTRODUCE
		FROM STUDY STD, USER_TABLE UT
		WHERE ( STD.ID = UT.ID ) AND S_NUM = #{ study_num }
	</select>
	<!-- 스터디 상세 정보 조회. -->

	<!-- 스터디 상세 정보의 댓글 조회 -->
	<select id="selectStudyCommentList" resultType="kr.co.studystory.domain.StudyCommentDomain" parameterType="String">
		SELECT SC.S_COMMENT, TO_CHAR(SC.INPUT_DATE, 'yyyy/mm/dd') INPUT_DATE, SC.ID 
		FROM STUDY STD, S_COMMENT SC
		WHERE STD.S_NUM=SC.S_NUM AND SC.S_NUM=#{ study_num }
		ORDER BY INPUT_DATE DESC
	</select>
	<!-- 스터디 상세 정보의 댓글 조회 -->


	<!-- 메인 페이지의 썸네일들 조회. - 진행중. -->
	<!-- 메인 페이지의 썸네일들 조회. -->

</mapper>